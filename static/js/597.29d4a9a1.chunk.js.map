{"version":3,"file":"static/js/597.29d4a9a1.chunk.js","mappings":"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","sources":["pages/Create.js","pages/StallPreview.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Page from \"./Page\";\nimport useReducer from \"../hook/reducerHook\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { addDoc, collection, doc, getDoc, setDoc } from \"firebase/firestore\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport \"./Write.css\";\nimport { db } from \"../firebase\";\nimport {\n  DocumentIcon,\n  EyeIcon,\n  LinkIcon,\n  PencilSquareIcon,\n  PlusIcon,\n} from \"@heroicons/react/24/solid\";\nimport {\n  Avatar,\n  Cascader,\n  FloatButton,\n  Input,\n  Modal,\n  Radio,\n  Spin,\n  Upload,\n  message,\n} from \"antd\";\nimport StallPreview from \"./StallPreview\";\nimport { transformData } from \"../components/ContactCard\";\nimport { cardVar } from \"./profData\";\nconst getBase64 = (file) =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = (error) => reject(error);\n  });\n\nconst isValidURL = (url) => {\n  try {\n    return Boolean(new URL(url));\n  } catch (e) {\n    return false;\n  }\n};\nfunction Create() {\n  const navigate = useNavigate();\n  const { user } = useReducer();\n  const params = useParams();\n  const signIn = () => {\n    if (user?.role === \"admin\") {\n      addDoc(collection(db, \"virtual\"), {\n        title: \"\",\n        photos: [],\n        content: {},\n        field: \"\",\n        faculty: \"\",\n      }).then((docRef) => navigate(docRef.id));\n    } else {\n      message.error(\"You are not authorized to create a post\");\n    }\n  };\n  const [pageLoad, setPageLoad] = useState(false);\n  useEffect(() => {\n    console.log(\"posts\", params.createId);\n    params.createId && setPageLoad(true);\n    params.createId &&\n      getDoc(doc(db, \"virtual\", params.createId))\n        .then((dc) => {\n          setTitle(dc.data().title);\n          setFileList(dc.data().photos);\n          setValue(dc.data().content);\n          setFac([dc.data().field, dc.data().faculty]);\n        })\n        .then(() => setPageLoad(false));\n  }, []);\n  const [value, setValue] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [previewmode, setPreviewMode] = useState(false);\n  const [savLoad, setSaveLoad] = useState(false);\n  const [size, setSize] = useState(\"url\");\n  const modules = {\n    toolbar: [\n      //[{ font: [] }],\n      [{ header: [1, 2, false] }],\n      [\"bold\", \"italic\", \"underline\", \"strike\"],\n      [{ color: [] }, { background: [] }],\n      [{ script: \"sub\" }, { script: \"super\" }],\n      [\"blockquote\", \"code-block\"],\n      [{ list: \"ordered\" }, { list: \"bullet\" }],\n      //   [\"link\", \"image\", \"video\"],\n      [\"link\"],\n      //   [\"clean\"],\n    ],\n  };\n  const [previewOpen, setPreviewOpen] = useState(false);\n  const [previewImage, setPreviewImage] = useState(\"\");\n  const [previewTitle, setPreviewTitle] = useState(\"\");\n  const [fileList, setFileList] = useState([]);\n  const [fac, setFac] = useState([]);\n  const handlePreview = async (file) => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n    setPreviewImage(file.url || file.preview);\n    setPreviewOpen(true);\n    setPreviewTitle(\n      file.name || file.url.substring(file.url.lastIndexOf(\"/\") + 1)\n    );\n  };\n  const handleCancel = () => setPreviewOpen(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [link, setLink] = useState();\n  const [Glink, setGLink] = useState();\n  useEffect(() => {\n    if (size !== \"url\") {\n      const fileId = Glink.match(/\\/d\\/([^/]+)/)[1];\n\n      // Constructing the desired URL\n\n      setLink(`https://lh3.googleusercontent.com/d/${fileId}`);\n    }\n  }, [Glink]);\n  const showModal = () => {\n    setIsModalOpen(true);\n  };\n  const handleOk = () => {\n    setIsModalOpen(false);\n    isValidURL(link) &&\n      setFileList([\n        ...fileList,\n        {\n          uid: fileList.length,\n          name: link.substring(link.lastIndexOf(\"/\") + 1),\n          status: \"done\",\n          url: link,\n        },\n      ]);\n    setSize(\"url\");\n    setGLink(\"\");\n    setLink(\"\");\n  };\n  const handleCancelM = () => {\n    setIsModalOpen(false);\n  };\n  const handleChange = ({ fileList: newFileList }) => setFileList(newFileList);\n\n  const handleSave = () => {\n    setSaveLoad(true);\n    setDoc(doc(db, \"virtual\", params.createId), {\n      //   user: user?.uid,\n      title: title,\n      content: value,\n      photos: fileList,\n      field: fac[0],\n      faculty: fac[1],\n      //approved: user?.role === \"student\" ? false : true,\n      // role: user?.role === \"student\" ? \"Student\" : \"Faculty\",\n    }).then(() => {\n      setSaveLoad(false);\n      navigate(`/virtual/${params.createId}`);\n    });\n  };\n  return (\n    <Page page=\"themes\" title=\"Create Lab Item\" hideBreadcrumb>\n      <div className=\"flex flex-col font-mont items-center h-full overflow-scroll w-full\">\n        {params.createId ? (\n          previewmode ? (\n            <StallPreview\n              InitialValue={{\n                content: value,\n                title: title,\n                photos: fileList,\n                field: fac[0],\n                faculty: fac[1],\n              }}\n              setPreviewMode={setPreviewMode}\n            />\n          ) : (\n            user?.role === \"admin\" && (\n              <div className=\"flex gap-2 relative flex-col md:mx-12 h-full  w-full bg-white px-2\">\n                <Modal\n                  title=\"Add Images\"\n                  open={isModalOpen}\n                  onOk={handleOk}\n                  okButtonProps={{ className: \"bg-blue-400 \" }}\n                  onCancel={handleCancelM}\n                >\n                  <p className=\"my-1\">\n                    {size === \"url\"\n                      ? \"Add image URL\"\n                      : \"Google drive sharable link\"}\n                  </p>\n                  {size !== \"url\" && (\n                    <Input\n                      onChange={(e) => setGLink(e.target.value)}\n                      value={Glink}\n                      prefix={\n                        <div className=\"flex flex-row bg-indigo-100 rounded-sm text-xs py-0.5 px-2\">\n                          Drive link :\n                          {/* <LinkIcon className=\"w-4 text-gray-400\" /> */}\n                        </div>\n                      }\n                    />\n                  )}\n                  <Input\n                    className=\"mt-2\"\n                    onChange={(e) => setLink(e.target.value)}\n                    value={link}\n                    disabled={size !== \"url\" ? true : false}\n                    prefix={<LinkIcon className=\"w-4 text-gray-400\" />}\n                  />\n                  <div className=\"w-full flex justify-center mt-2\">\n                    <Radio.Group\n                      value={size}\n                      onChange={(e) => setSize(e.target.value)}\n                    >\n                      <Radio.Button value=\"url\">URL</Radio.Button>\n                      <Radio.Button value=\"gdrive\">Google Drive</Radio.Button>\n                    </Radio.Group>\n                  </div>\n                </Modal>\n                <div className=\"flex flex-row justify-between w-full my-3\">\n                  <h1 className=\"ml-1 font-semibold font-mont text-2xl text-gray-800\">\n                    Create a new post\n                  </h1>\n                  <div className=\"flex flex-row gap-4 justify-center items-center\">\n                    <div className=\"flex flex-row justify-center items-center\">\n                      <div\n                        onClick={() => setPreviewMode(true)}\n                        className=\"px-2 items-center cursor-pointer gap-2 flex flex-row py-1 rounded-full font-mont font-medium text-slate-600 bg-gradient-to-br from-indigo-50 to-indigo-100 hover:to-indigo-200 border border-indigo-300 \"\n                      >\n                        <EyeIcon className=\"w-5\" />\n\n                        <h1 className=\"text-xs\">Preview</h1>\n                      </div>\n                    </div>\n                    <div className=\"flex flex-row justify-center items-center\">\n                      <div\n                        onClick={() => handleSave()}\n                        className=\"px-2 items-center cursor-pointer gap-2 flex flex-row py-1 rounded-full font-mont font-medium text-slate-600 bg-gradient-to-br from-indigo-50 to-indigo-100 hover:to-indigo-200 border border-indigo-300 \"\n                      >\n                        {savLoad ? (\n                          <Spin className=\"w-5 filter saturate-200 \" />\n                        ) : (\n                          <DocumentIcon className=\"w-5\" />\n                        )}\n                        {!savLoad && <h1 className=\"text-xs\">Save</h1>}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex flex-col transition-all bg-indigo-50 hover:bg-indigo-100 rounded-lg border-slate-300 border\">\n                  <div className=\"flex flex-row items-center  p-1\">\n                    <h1 className=\"font-semibold ml-2 text-sm text-slate-800\">\n                      Title :\n                    </h1>\n                  </div>\n                  <Input\n                    className=\"mx-2 mb-2 w-[98%]\"\n                    size=\"large\"\n                    onChange={(e) => setTitle(e.target.value)}\n                    value={title}\n                    placeholder=\"Title of the post\"\n                    prefix={\n                      <PencilSquareIcon className=\"w-4 mr-1 text-indigo-700\" />\n                    }\n                  />\n                </div>\n                <div className=\"flex flex-col transition-all bg-indigo-50 hover:bg-indigo-100 rounded-lg border-slate-300 border\">\n                  <div className=\"flex flex-row items-center  p-1\">\n                    <h1 className=\"font-semibold ml-2 text-sm text-slate-800\">\n                      Faculty :\n                    </h1>\n                  </div>\n                  <Cascader\n                    value={fac}\n                    onChange={(value) => setFac(value)}\n                    className=\"px-2 w-full mb-2\"\n                    options={transformData(cardVar)}\n                  />\n                </div>\n                <div className=\"flex flex-col  transition-all hover:bg-indigo-100 bg-indigo-50 rounded-lg border-slate-300 border\">\n                  <div className=\"flex flex-row items-center  p-1\">\n                    {/* <PencilSquareIcon className=\"w-4 mr-1 text-indigo-700\" /> */}\n                    <h1 className=\"font-semibold ml-2 text-sm text-slate-800\">\n                      Images :\n                    </h1>\n                  </div>\n                  <Upload\n                    //action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n                    listType=\"picture-card\"\n                    fileList={fileList}\n                    onPreview={handlePreview}\n                    openFileDialogOnClick={false}\n                    className=\"ml-2\"\n                    onChange={handleChange}\n                  >\n                    {fileList.length >= 8 ? null : (\n                      <div\n                        className=\"w-full h-full items-center justify-center flex bg-white rounded-md\"\n                        onClick={showModal}\n                      >\n                        <PlusIcon className=\"w-5\" />\n                      </div>\n                    )}\n                  </Upload>\n                  <div></div>\n                  <Modal\n                    open={previewOpen}\n                    title={previewTitle}\n                    footer={null}\n                    onCancel={handleCancel}\n                  >\n                    <img\n                      alt=\"example\"\n                      style={{\n                        width: \"100%\",\n                      }}\n                      src={previewImage}\n                    />\n                  </Modal>\n                </div>\n                <div className=\" mb-2\">\n                  <ReactQuill\n                    modules={modules}\n                    theme=\"snow\"\n                    value={value}\n                    onChange={setValue}\n                  />\n                </div>\n              </div>\n            )\n          )\n        ) : (\n          <button\n            onClick={() => signIn()}\n            className=\"w-24 h-6 bg-blue-500 rounded-full text-white font-mont items-center justify-center\"\n          >\n            Login\n          </button>\n        )}\n      </div>\n    </Page>\n  );\n}\n\nexport default Create;\n","import { doc, getDoc } from \"firebase/firestore\";\nimport React, { useEffect, useState } from \"react\";\nimport { db } from \"../firebase\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport { Avatar, FloatButton, Image } from \"antd\";\nimport {\n  DocumentIcon,\n  EyeIcon,\n  EyeSlashIcon,\n  PhotoIcon,\n} from \"@heroicons/react/24/solid\";\nimport \"./Read.css\";\nimport \"react-quill/dist/quill.snow.css\";\nimport { cardVar } from \"./profData\";\nexport function findChildObject(cardVar, fac) {\n  const parentObject = cardVar.find((obj) => obj.label === fac[0]);\n  if (parentObject) {\n    const childObject = parentObject.prof.find(\n      (child) => child.name === fac[1]\n    );\n    return { child: childObject, parent: parentObject };\n  }\n  return null;\n}\nexport const Domain = ({ fac }) => {\n  const author = findChildObject(cardVar, fac);\n  return (\n    <Link\n      to={\"/themes/\" + cardVar.findIndex((obj) => obj.label === fac[0])}\n      className={` mr-0 ml-auto flex flex-row mb-2 float-left items-center bg-gradient-to-br from-indigo-50 to-indigo-100 hover:to-indigo-200 transition-all  border cursor-default border-indigo-200 px-1 rounded-full`}\n    >\n      <img src={author?.parent?.img} className=\"w-5 h-5\" alt=\"\" />\n      <div className=\"flex flex-col\">\n        <h1 className=\"ml-1 font-semibold text-xs text-gray-800 pr-2\">\n          {author?.parent?.label}\n        </h1>\n      </div>\n    </Link>\n  );\n};\nexport const Author = ({ fac }) => {\n  const author = findChildObject(cardVar, fac);\n  return (\n    <Link\n      to={\"/themes/\" + cardVar.findIndex((obj) => obj.label === fac[0])}\n      className=\"z-10 flex flex-row mr-auto mb-2 float-left items-center bg-gradient-to-br from-indigo-50 to-indigo-100 transition-all hover:to-indigo-200 border cursor-default border-indigo-200 px-1 rounded-full\"\n    >\n      <Avatar\n        src={author?.child?.img}\n        className=\"my-1 border border-indigo-200 bg-blue-400\"\n      >\n        {author?.child?.name?.slice(0, 1)}{\" \"}\n      </Avatar>\n      <div className=\"flex flex-col\">\n        <h1 className=\"ml-1 font-semibold text-xs text-gray-800 pr-2\">\n          {author?.child?.name}\n        </h1>\n        <h1 className=\"ml-1  text-xs text-gray-400 pr-2\">\n          {author?.child?.designation}\n        </h1>\n      </div>\n    </Link>\n  );\n};\nfunction StallPreview({ id, setPreviewMode, InitialValue }) {\n  const [value, setValue] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [fac, setFac] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n  const [fileList, setFileList] = useState([]);\n  const params = useParams();\n  console.log(author);\n  useEffect(() => {\n    // if (!id) {\n    setTitle(InitialValue.title);\n    setFileList(InitialValue.photos);\n    setValue(InitialValue.content);\n    setFac([InitialValue.field, InitialValue.faculty]);\n    setAuthor(\n      findChildObject(cardVar, [InitialValue.field, InitialValue.faculty])\n    );\n    // }\n    // id &&\n    //   getDoc(doc(db, \"virtual\", params.createId)).then((dc) => {\n    //     setTitle(dc.data().title);\n\n    //     setFileList(dc.data().photos);\n    //     setValue(dc.data().content);\n    //     //   getDoc(\n    //     //     doc(\n    //     //       db,\n    //     //       \"People\",\n    //     //       \"TRInjm0tAFTucocoGSvj\",\n    //     //       dc.data().role,\n    //     //       dc.data().user\n    //     //     )\n    //     //   ).then((dic) =>\n    //     //     setAuthor({\n    //     //       name: dic.data().name,\n    //     //       img: dic.data().img,\n    //     //       id: dic.id,\n    //     //       email: dic.data().email,\n    //     //     })\n    //     //   );\n    //   });\n    // .then(() => setPageLoad(false));\n  }, [InitialValue]);\n\n  return (\n    <div className=\"flex relative overflow-scroll w-full h-full flex-col md:mx-48 bg-white px-2\">\n      {/* <div className=\"flex flex-row justify-between w-full my-3\">\n        <h1 className=\"ml-1 font-semibold text-2xl text-gray-800\">{title}</h1>\n      </div> */}\n      <div className=\"flex flex-row justify-between w-full \">\n        <Author fac={fac} />\n        {setPreviewMode ? (\n          <div className=\"flex flex-row justify-center items-center\">\n            <div\n              onClick={() => setPreviewMode(false)}\n              className=\"px-2 items-center cursor-pointer gap-2 flex flex-row py-1 rounded-full font-mont font-medium text-slate-600 bg-gradient-to-br from-indigo-50 to-indigo-100 hover:to-indigo-200 border border-indigo-300 \"\n            >\n              <EyeSlashIcon className=\"w-5\" />\n\n              <h1 className=\"text-xs\">Close Preview</h1>\n            </div>\n          </div>\n        ) : (\n          <Domain fac={fac} />\n        )}\n      </div>\n      <div className=\"flex bg-indigo-100 md:mx-6 mx-2 p-2 rounded-md border border-indigo-200 flex-row w-full xoverflow-x-scroll items-center justify-start \">\n        <Image.PreviewGroup\n        // preview={{\n        //   onChange: (current, prev) =>\n        //     console.log(`current index: ${current}, prev index: ${prev}`),\n        // }}\n        >\n          <h1 className=\"-ml-5 -mr-8 -mt-6 md:-rotate-90 whitespace-nowrap font-mont px-2 py-0.5 rounded-md font-medium text-slate-600   text-sm transform origin-bottom  border border-indigo-300 bg-indigo-400/20 \">\n            {/* <Ima className=\"w-5 inline-block -mt-1 mr-2\" /> */}\n            <PhotoIcon className=\"w-5 inline-block -mt-1 mr-2\" />\n            Images\n          </h1>\n\n          {fileList &&\n            fileList.map((dc) => (\n              <Image\n                className=\"object-cover border border-indigo-100\"\n                height={100}\n                key={`img.id.${dc.uid}`}\n                src={dc.url}\n              />\n            ))}\n        </Image.PreviewGroup>\n      </div>\n      <div\n        className=\"ql-viewer mx-2 md:mx-6 mb-4 mt-4\"\n        dangerouslySetInnerHTML={{ __html: value }}\n      ></div>\n      {/* {user?.id === author?.id && (\n        <FloatButton\n          badge={{ dot: true }}\n          onClick={() => nav(`/Posts/Create/${params.id}`)}\n          shape=\"circle\"\n          type=\"primary\"\n          className=\"w-14 h-14 \"\n          style={{\n            right: 94,\n          }}\n          icon={\n            <div className=\"flex flex-col items-center\">\n              <PencilIcon className=\"w-5\" />\n              <h1 className=\"text-xs\">Edit</h1>{\" \"}\n            </div>\n          }\n        />\n      )} */}\n    </div>\n  );\n}\n\nexport default StallPreview;\n"],"names":["navigate","useNavigate","user","useReducer","params","useParams","pageLoad","setPageLoad","useState","useEffect","console","log","createId","getDoc","doc","db","then","dc","setTitle","data","title","setFileList","photos","setValue","content","setFac","field","faculty","value","previewmode","setPreviewMode","savLoad","setSaveLoad","size","setSize","previewOpen","setPreviewOpen","previewImage","setPreviewImage","previewTitle","setPreviewTitle","fileList","fac","isModalOpen","setIsModalOpen","link","setLink","Glink","setGLink","fileId","match","concat","_jsx","Page","page","hideBreadcrumb","children","className","StallPreview","InitialValue","role","_jsxs","Modal","open","onOk","handleOk","url","Boolean","URL","e","isValidURL","uid","length","name","substring","lastIndexOf","status","okButtonProps","onCancel","handleCancelM","Input","onChange","target","prefix","disabled","LinkIcon","Radio","onClick","EyeIcon","setDoc","Spin","DocumentIcon","placeholder","PencilSquareIcon","Cascader","options","transformData","cardVar","Upload","listType","onPreview","async","file","preview","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","getBase64","originFileObj","openFileDialogOnClick","_ref","newFileList","showModal","PlusIcon","footer","handleCancel","alt","style","width","src","ReactQuill","modules","toolbar","header","color","background","script","list","theme","addDoc","collection","docRef","id","message","findChildObject","parentObject","find","obj","label","child","prof","parent","Domain","_author$parent","_author$parent2","author","Link","to","findIndex","img","Author","_ref2","_author$child","_author$child2","_author$child2$name","_author$child3","_author$child4","Avatar","slice","designation","_ref3","setAuthor","EyeSlashIcon","Image","PreviewGroup","PhotoIcon","map","height","dangerouslySetInnerHTML","__html"],"sourceRoot":""}